<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="css/style.css">
  <title>Street Fighter 2 Character Select</title>
</head>
<body>

  <div class="char-info-container">
    <div class="char-details-container">
      <div id="player-one-img">
        <img class="img-char" src="assets/images/portrait/ryu.gif" alt="ryu">
      </div>
      <div class="center-elements">
        <div id="player-one-name" class="char-name">
          <p>RYU</p>
        </div>
        <div id="player-one-flag" >
          <img class="flag" src="https://www.countryflags.io/jp/flat/64.png">
        </div>
      </div>
    </div>

    <div class="char-details-container">
      <div>
        <img class="img-char img-flip" src="assets/images/portrait/sagat.gif" alt="">
      </div>
      <div class="center-elements">
        <div class="char-name">
          <p>SAGAT</p>
        </div>
        <div>
          <img class="flag" src="https://www.countryflags.io/th/flat/64.png">
        </div>
      </div>
    </div>
  </div>
  

  <div class="select-character">
    <div class="font-center">
      <h1>PLAYER SELECT</h1>
    </div>
    <div class="row">
      <div id="ryu" class="card-character card-top-left-char"><img class="charSrc" src="assets/images/characters/ryu.gif" alt=""></div>
      <div class="card-character card-top-char"><img class="charSrc" id="ehonda" name="char" src="assets/images/characters/ehonda.gif" alt=""></div>
      <div id="blanka" class="card-character card-top-char"><img class="charSrc" id="blanka" name="char" src="assets/images/characters/blanka.gif" alt=""></div>
      <div id="guile" class="card-character card-top-char"><img class="charSrc" src="assets/images/characters/guile.gif" alt=""></div>
      <div class="card-character card-top-char"><img class="charSrc" src="assets/images/characters/thawk.gif" alt=""></div>
      <div class="card-character card-top-char"><img class="charSrc" src="assets/images/characters/feilong.gif" alt=""></div>
      <div class="card-character card-top-char"><img class="charSrc" src="assets/images/characters/boxer.gif" alt=""></div>
      <div class="card-character card-top-char"><img class="charSrc" src="assets/images/characters/sagat.gif" alt=""></div>
    </div>

    <div class="row">
      <div id="ke" class="card-character card-bottom-left-char"><img class="charSrc" src="assets/images/characters/ken.gif" alt=""></div>
      <div id="ch" class="card-character card-bottom-char"><img class="charSrc" src="assets/images/characters/chunli.gif" alt=""></div>
      <div id="za" class="card-character card-bottom-char"><img class="charSrc" src="assets/images/characters/zangief.gif" alt=""></div>
      <div id="dh" class="card-character card-bottom-char"><img class="charSrc" src="assets/images/characters/dhalsim.gif" alt=""></div>
      <div id="ca" class="card-character card-bottom-char"><img class="charSrc" src="assets/images/characters/cammy.gif" alt=""></div>
      <div id="de" class="card-character card-bottom-char"><img class="charSrc" src="assets/images/characters/deejay.gif" alt=""></div>
      <div id="cl" class="card-character card-bottom-char"><img class="charSrc" src="assets/images/characters/claw.gif" alt=""></div>
      <div id="di" class="card-character card-bottom-char"><img class="charSrc" src="assets/images/characters/dictator.gif" alt=""></div>
    </div>
  </div>
  
  <audio id="audio-select" src="assets/sounds/select.wav"></audio>
  <!-- <audio id="audio-theme" src=""></audio> -->

<script>

  // character data
  const characters = {
    blanka: {name: "BLANKA", portrait: "blanka", flag: "br"},
    ryu: {name: "RYU", portrait: "ryu", flag: "jp"},
    boxer: {name: "BALROG", portrait: "boxer", flag: "us"},
    cammy: {name: "CAMMY", portrait: "cammy", flag: "gb"},
    chunli: {name: "CHUN-LI", portrait: "chunli", flag: "cn"},
    claw: {name: "VEGA", portrait: "claw", flag: "es"},
    deejay: {name: "DEEJAY", portrait: "deejay", flag: "jm"},
    dhalsim: {name: "DHALSIM", portrait: "dhalsim", flag: "in"},
    dictator: {name: "M. BISON", portrait: "dictator", flag: "th"},
    ehonda: {name: "E. HONDA", portrait: "ehonda", flag: "jp"},
    feilong: {name: "FEI LONG", portrait: "feilong", flag: "hk"},
    guile: {name: "GUILE", portrait: "guile", flag: "us"},
    ken: {name: "KEN", portrait: "ken", flag: "us"},
    ryu: {name: "RYU", portrait: "ryu", flag: "jp"},
    sagat: {name: "SAGAT", portrait: "sagat", flag: "th"},
    thawk: {name: "T. HAWK", portrait: "thawk", flag: "mx"},
    zangief: {name: "ZANGIEF", portrait: "zangief", flag: "ru"},
  }

  // get our elements 
  const characterIcons = document.querySelectorAll('.charSrc');
  const playerOneImg = document.getElementById('player-one-img');
  const playerOneName = document.getElementById('player-one-name');
  const playerOneFlag = document.getElementById('player-one-flag');

  
  // functions
  const playSelectAudio = () => {
    const audio = document.querySelector('#audio-select');
    audio.currentTime = 0;
    audio.play();
  }
  
  const getNameString = (character) => {
    let imgSrc = character.getAttribute('src'); 
    const regexp = /\w+(?=\.gif)/;
    let nameString = imgSrc.match(regexp)[0];
    return nameString;
  }

  const getCharObjInfo = (nameString) => {
    const charImg = characters[nameString].portrait;
    const charName = characters[nameString].name;
    const charFlag = characters[nameString].flag;
    
    playerOneImg.innerHTML = `<img class="img-char" src="assets/images/portrait/${charImg}.gif" alt="${charName}">`
    playerOneName.innerHTML = `<p>${charName}</p>`
    playerOneFlag.innerHTML = `<img class="flag" src="https://www.countryflags.io/${charFlag}/flat/64.png">`
  }

//   const updateSelect = () => {
  
// }


  // event listeners
  characterIcons.forEach(character => character.addEventListener('mouseenter', () => {
    playSelectAudio();
    // getCharName(character);
    getCharObjInfo(getNameString(character));
    // upDateSelect(get);
  }));
  </script>

</body>
</html>